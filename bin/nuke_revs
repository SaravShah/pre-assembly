#! /usr/bin/env ruby

# This code is probably not needed now that we have uniqify_source_ids.

require File.expand_path(File.dirname(__FILE__) + '/../config/boot')

source_ids = [
  'revs:foo-1.0',
  'revs:foo-2.1',
  'revs:foo-2.2',
  'REVS:foo-1.0',
  'REVS:foo-2.1',
  'REVS:foo-2.2',
  'REVS:2011-023Cham-1.0_0001',
  'REVS:2011-023Cham-1.0_0002',
  'REVS:2011-023Cham-1.0_0003',
  'REVS:2011-023Cham-1.0_0004',
  'REVS:2011-023Cham-1.0_0005',
  'REVS:2011-023Cham-1.0_0006',
  'REVS:2011-023Cham-1.0_0007',
  'REVS:2011-023Cham-1.0_0008',
  'REVS:2011-023Cham-1.0_0009',
  'REVS:2011-023Cham-1.0_0010'
]

source_ids.each do |sid|
  druids = Dor::SearchService.query_by_id sid
  druids.each do |druid|
    puts "Deleting #{druid}."
    begin
      dobj = Dor::Config.fedora.client["objects/#{druid}"]
      dobj.delete
    rescue
      puts "an error occurred trying to delete #{druid}"
    end
  end
end
