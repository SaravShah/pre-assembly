# TODO: input-profile sanity checks.

# TODO: reevaluate logging for use in deployed context.
# TODO: consider whether to persist information about druids processed.
# TODO: Modify revs.yaml when we start using for real.

# TODO: YARD documentation.
# TODO: refactor to handle DPG content.

# TODO: WorkflowService should provide a way to delete a workflow.


Receive bundle of materials (manual):

    - Receive the bundle of material (e.g. REVS hard drive).
    - Copy the bundle to a prep area on the thumper staging machine.
    - Launch the pre_assembly process.


Pre-assembly (automated):

    # Load information from the data provider.
    - Expected checksum metadata.
    - Manifest.

    For each digital object:

        - Register the object and acquire a druid.
        - Copy the object to a druid tree in thumper staging directory.
        - Generate contentMetadata.xml.
        - Generate descMetadata.xml.
        - Initialize the object's assemblyWF in DOR (a REST call).

        - Later: get descriptive metadata from other sources, such as mdtoolkit
          and symphony.   This should happen during common accessioning and is done by existing robots.


Refactoring:

    - Required parameters is less strict:
        - checksums optional
        - manifest optional
        
        - modify bin/pre-assemble
        - modify check_for_required_files

    - Generate if not provided:
        - checksums
        - manifest

    - Steps


        Rev  Rum  Gou
        .              claim_druid
             .    .    get_druid    # From subdir or barcode.
        .              register
        .              add_dor_object_to_set
        .    .    .    stage_images stager, staging_dir
        .    .    .    generate_content_metadata
        .              generate_desc_metadata
        .    .    .    write_content_metadata
        .              write_desc_metadata
        .    .    .    initialize_assembly_workflow


Gould:

    - See /thumpers/dpgthumper2-se1/Gould
    - Each dir is a barcode.
    - The source images are jpg.
    - The desc metadata is in symphony.
    - Can get druid using query_by_id(BARCODE) [see dor-services-gem].
    - Content metadata: ask Gary about AP.
    
    - Misc files at root: probably ignore.
    - Some jpg are in 00 subdir, some are not (36105115575867).
    - Some subdirs have misc files (.zip or .md5). Ignore?
